(()=>{"use strict";var e={225:(e,t,n)=>{n.r(t)},749:(e,t,n)=>{n.r(t)},489:(e,t,n)=>{n.r(t)},916:(e,t,n)=>{n.r(t)},788:(e,t,n)=>{n.r(t)},839:(e,t,n)=>{n.r(t)},430:(e,t,n)=>{n.r(t)},756:(e,t,n)=>{n.r(t)},302:(e,t,n)=>{n.r(t)},699:(e,t,n)=>{n.r(t)},676:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:()=>c,applyMiddleware:()=>g,bindActionCreators:()=>p,combineReducers:()=>u,compose:()=>f,createStore:()=>h});var a="function"==typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function l(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(o(2));var s=e,r=t,d=[],u=d,m=!1;function p(){u===d&&(u=d.slice())}function f(){if(m)throw new Error(o(3));return r}function g(e){if("function"!=typeof e)throw new Error(o(4));if(m)throw new Error(o(5));var t=!0;return p(),u.push(e),function(){if(t){if(m)throw new Error(o(6));t=!1,p();var n=u.indexOf(e);u.splice(n,1),d=null}}}function v(e){if(!l(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(m)throw new Error(o(9));try{m=!0,r=s(r,e)}finally{m=!1}for(var t=d=u,n=0;n<t.length;n++)(0,t[n])();return e}function w(e){if("function"!=typeof e)throw new Error(o(10));s=e,v({type:c.REPLACE})}function C(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return v({type:c.INIT}),(i={dispatch:v,subscribe:g,getState:f,replaceReducer:w})[a]=C,i}function u(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var s=t[i];"function"==typeof e[s]&&(n[s]=e[s])}var r,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var i=!1,s={},d=0;d<a.length;d++){var c=a[d],l=n[c],h=e[c],u=l(h,t);if(void 0===u)throw t&&t.type,new Error(o(14));s[c]=u,i=i||u!==h}return(i=i||a.length!==Object.keys(e).length)?s:e}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return m(e,t);if("object"!=typeof e||null===e)throw new Error(o(16));var n={};for(var i in e){var s=e[i];"function"==typeof s&&(n[i]=m(s,t))}return n}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),i=function(){throw new Error(o(15))},s={getState:n.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map((function(e){return e(s)}));return i=f.apply(void 0,a)(n.dispatch),r(r({},n),{},{dispatch:i})}}}},752:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(256),o=n(199),a=n(806),d=s(n(54)),c=n(583);n(749);const l=n(399),h=n(170),u=n(613),m=n(42),p=n(669),f=s(n(367));let g;t.App=class{constructor(e){this.startGameBtn=new c.BaseComponent("div",["start-game-btn"]).element,this.makeCategoryObj=()=>this.categoryCard.filter((e=>!"Home statistic Login".includes(e))).map(((e,t)=>this.wordCarts[t]?{word:e,translation:a.IT_IS_CATEGORY,image:this.wordCarts[t][0]&&this.wordCarts[t][1].image||"img/undefined.jpg",audioSrc:""}:{word:e,translation:a.IT_IS_CATEGORY,image:"img/undefined.jpg",audioSrc:""})),this.tempMethod=()=>{this.logicGame&&this.logicGame.currentCard.playSound(this.logicGame.currentCard.audioSrc)},this.categoryCard=[],this.wordCarts=[],g=this.tempMethod.bind(this),this.startGameBtn=new c.BaseComponent("div",["start-game-btn"]).element,this.element=e,this.gameBegin=!1,this.currentLink="",this.currentMode=!0,d.default.subscribe((()=>{"Login"!==d.default.getState().link&&(this.stateHandler(d.default.getState().link),this.gameBegin=!1,this.modeChangeHandler(d.default.getState().mode))})),this.currentCards=[],this.getDataFromPromise()}newGame(){return i(this,void 0,void 0,(function*(){this.game=new r.Game,this.element.append(this.game.cardsField.element),yield this.game.newGame(this.currentCards),this.addRemoveStartGameBtn(this.currentMode)}))}modeChangeHandler(e){e!==this.currentMode&&(this.addRemoveStartGameBtn(e),this.addRemoveStartGameBtn(e),this.currentMode=e)}stateHandler(e){if(e===this.currentLink)return;if(!this.game)return;if(this.currentLink="Login"===e?"Home":e,this.game.cardsField.element.innerHTML="","listHigthPercentError"===e)return this.currentCards=m.statistic.makelistHigthPercentError(),void this.newGame();const t=this.categoryCard.findIndex((t=>t===e));0===t?(this.currentCards=this.makeCategoryObj(),this.newGame()):t===this.categoryCard.length-1?(this.game.cardsField.element.append((new u.StatisticComponent).element),this.addRemoveStartGameBtn(!1)):(this.currentCards=this.wordCarts[t-1],this.newGame())}addRemoveStartGameBtn(e=!0){this.startGameBtn.innerText="Start",this.startGameBtn.classList.remove("repeat"),this.startGameBtn.removeEventListener("click",g),e||this.currentCards[1].translation===a.IT_IS_CATEGORY||"statistic"===this.currentLink?this.startGameBtn.parentNode&&this.startGameBtn.parentNode.removeChild(this.startGameBtn):(this.element.append(this.startGameBtn),this.startGameBtn.onclick=this.startGameBtnHandter.bind(this))}startGameBtnHandter(){this.game&&this.game.cards&&(this.gameBegin=!0,this.startGameBtn.addEventListener("click",g),this.startGameBtn.classList.add("repeat"),this.startGameBtn.innerHTML="&#x21bb",this.logicGame=new l.LogicGame(this.game.cards,this.game.cardsField),this.startGame())}startGame(){var e;return i(this,void 0,void 0,(function*(){this.startGameBtn.onclick=null,yield null===(e=this.logicGame)||void 0===e?void 0:e.startGame().then((()=>{h.dispatchMouseClickOnMenu("Home")}))}))}getDataFromPromise(){return i(this,void 0,void 0,(function*(){const e=yield p.getCategories();e&&(this.categoryCard=e),this.wordCarts=yield p.getWords(),f.default.categoryCard=this.categoryCard,f.default.wordCarts=this.wordCarts,this.currentCards=this.makeCategoryObj(),this.element.append((new o.Header).element),this.newGame()}))}}},12:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInputComponent=void 0;const i=n(583);t.BaseInputComponent=class{constructor(e,t=[],n="text"){this.element=document.createElement("form"),this.label=document.createElement("label"),this.label.innerText=e,this.input=document.createElement("input"),this.label.style.display="block",this.input.style.display="block",this.element.classList.add(...t),this.label.append(this.input),this.input.setAttribute("type",n),this.value=this.input.value,this.input.addEventListener("change",(()=>{this.value=this.input.value})),this.element.append(this.label),this.message=new i.BaseComponent("div",["message"]).element,this.element.append(this.message)}}},174:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminCategoryCard=void 0;const s=n(583);n(746);const r=n(504),o=n(669),a=n(170),d=n(12);class c extends s.BaseComponent{constructor(e){super("div",["admin-card"]),this.index=e.index,this.editMode=e.edit,this.isNew=e.isNew,this.closeBtn=new s.BaseComponent("div",["close-btn"]).element,this.closeBtn.addEventListener("click",(()=>this.deleteThisCard()));const t={styles:"adminCard__footer_edit",btnNames:["Cancel","Create"],btnFuncs:[this.cancel.bind(this),this.create.bind(this)]};this.editFooterCard=new r.CardFooterBtn(t);const n={styles:"adminCard__footer",btnNames:["Update","Add item"],btnFuncs:[this.updateThisCard.bind(this),this.addWord.bind(this)]};this.footerCard=new r.CardFooterBtn(n),this.input=new d.BaseInputComponent("Category name",["input_admin-card"]),this.fillCard()}deleteThisCard(){return i(this,void 0,void 0,(function*(){yield o.deleteCategory(this.index),a.dispatchChangeInAdminPage("delete")}))}updateThisCard(){this.editMode=!0,this.fillCard()}fillCard(){return i(this,void 0,void 0,(function*(){this.element.innerHTML="",this.element.innerText=`${this.index}`,this.editMode?(this.element.innerText=`${this.index}`,this.element.append(this.input.element),this.element.append(this.editFooterCard.element)):(this.element.append(this.closeBtn),yield this.element.append(yield this.getNameElementByIndex()),yield this.element.append(yield this.getElementAmount()),this.element.append(this.footerCard.element))}))}cancel(){return i(this,void 0,void 0,(function*(){this.isNew?(yield this.deleteThisCard(),this.element.parentNode&&this.element.parentNode.removeChild(this.element)):this.editMode=!1,this.fillCard()}))}create(){return i(this,void 0,void 0,(function*(){this.input.value?yield o.renameCategory(this.input.value,this.index).then((()=>i(this,void 0,void 0,(function*(){this.element.innerHTML="",this.editMode=!1,this.isNew=!1,yield this.fillCard()}))),(e=>{this.input.message.innerText=e})):this.input.message.innerText="fill in this field"}))}addWord(){return i(this,void 0,void 0,(function*(){const e=(yield o.getCategories())[this.index].replace(/ /g,"_");window.history.pushState(null,"null",`/category/${e}`);const t=new PopStateEvent("popstate");dispatchEvent(t)}))}getNameElementByIndex(){return i(this,void 0,void 0,(function*(){const e=yield o.getCategories(),t=new s.BaseComponent("div",["admin-category-card__name"]).element;return t.innerText=`${e[this.index]}`,t}))}getElementAmount(){return i(this,void 0,void 0,(function*(){const e=yield o.getWordsOfCategoryByIndex(this.index),t=new s.BaseComponent("div",["admin-category-card__amount"]).element;return t.innerText=`WORDS: ${e.length}`,t}))}}t.AdminCategoryCard=c},264:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminCardWord=void 0;const s=n(583),r=n(504),o=n(12),a=n(669),d=n(594),c=n(170),l=n(370);class h extends s.BaseComponent{constructor(e){super("div",["admin-card_word."]),this.index=e.index,this.categoryName=l.getLocation(),this.indexCategory=Number(l.getIndexByName(this.categoryName[1])),this.wordObj={word:"",translation:"",image:"",audioSrc:""},this.editMode=e.edit,this.isNew=e.isNew,this.closeBtn=new s.BaseComponent("div",["close-btn"]).element,this.closeBtn.addEventListener("click",(()=>this.deleteThisCard())),this.soundInput=new d.FileLoadComponent("Sound"),this.imageInput=new d.FileLoadComponent("Image");const t={styles:"adminCard__footer_edit",btnNames:["Cancel","Save"],btnFuncs:[this.cancel.bind(this),this.saveThisCard.bind(this)]};this.editFooterCard=new r.CardFooterBtn(t);const n={styles:"adminCard__footer",btnNames:["Change"],btnFuncs:[this.updateThisCard.bind(this)]};this.footerCard=new r.CardFooterBtn(n),this.inputWord=new o.BaseInputComponent("Word",["input_admin-card"]),this.inputTranslation=new o.BaseInputComponent("Translation",["input_admin-card"]),this.fillCard()}deleteThisCard(){return i(this,void 0,void 0,(function*(){const e=yield a.deleteWord(this.categoryName[1],this.index).catch(console.log);console.log(e),c.dispatchChangeInAdminPage("delete item")}))}saveThisCard(){console.log(this)}updateThisCard(){console.log(this)}fillCard(){return i(this,void 0,void 0,(function*(){this.element.innerHTML="",this.element.innerText=`${this.index}`,this.editMode?(this.element.append(this.inputWord.element),this.element.append(this.inputTranslation.element),this.element.append(this.soundInput.element),this.element.append(this.imageInput.element),this.element.append(this.editFooterCard.element)):(this.element.innerHTML=`\n      <h5 class="card-field__title">Word: <span class="card-field__content">${this.wordObj.word}</span></h5>\n      <h5 class="card-field__title">Translation: <span class="card-field__content">${this.wordObj.translation}</span></h5>\n      <h5 class="card-field__title">Sound file: <span class="card-field__content">${this.wordObj.audioSrc.split("/")[1]}</span></h5>\n       <h5 class="card-field__title">Image:</h5>\n       <img src="${this.wordObj.image}">`,this.element.append(this.closeBtn),this.element.append(this.footerCard.element))}))}cancel(){return i(this,void 0,void 0,(function*(){this.isNew?(yield this.deleteThisCard(),this.element.parentNode&&this.element.parentNode.removeChild(this.element)):this.editMode=!1,this.fillCard()}))}getWordElementByIndex(){return i(this,void 0,void 0,(function*(){const e=yield a.getWordsOfCategoryByIndex(this.indexCategory);this.wordObj=e[this.index]}))}}t.AdminCardWord=h},787:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WordsField=void 0;const s=n(583),r=n(669),o=n(264),a=n(370);class d extends s.BaseComponent{constructor(e){super("div",["admin-field","cards-field"]),this.name=e,this.index=Number(a.getIndexByName(this.name)),this.words=[],this.cardConfigs=[],this.cardNewItem=new s.BaseComponent("div",["admin-card"]).element}getItem(){return i(this,void 0,void 0,(function*(){yield this.getWordsFromServer(),this.words.forEach(((e,t)=>{this.cardConfigs.push({index:t,edit:!1,isNew:!1})}))}))}getWordsFromServer(){return i(this,void 0,void 0,(function*(){this.words=yield r.getWordsOfCategoryByIndex(this.index)}))}fill(){return i(this,void 0,void 0,(function*(){this.words=[],this.element.innerHTML="",yield this.getWordsFromServer(),this.cardConfigs.forEach((e=>this.element.append(new o.AdminCardWord(e).element))),this.addCardNewItem()}))}addCardNewItem(){this.cardNewItem.innerHTML="<h4>Add new category</h4>";const e=new s.BaseComponent("div",["plus"]).element;this.cardNewItem.append(e),e.onclick=()=>this.addNewCard(),this.element.append(this.cardNewItem)}addNewCard(){console.log(this)}}t.WordsField=d},521:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminFieldCategories=void 0;const r=n(669),o=s(n(367)),a=n(583),d=n(174),c=s(n(54));class l extends a.BaseComponent{constructor(){super("div",["admin-field","cards-field"]),this.nameCategories=[""],this.words=o.default.wordCarts,this.categories=[],this.cardNewItem=new a.BaseComponent("div",["admin-card"]).element,this.fill(),c.default.subscribe((()=>{"delete"===c.default.getState().actionOfChange&&this.fill()}))}getItem(){return i(this,void 0,void 0,(function*(){this.nameCategories=yield r.getCategories(),this.words=yield r.getWords(),this.nameCategories.forEach(((e,t)=>{this.categories.push({index:t,edit:"empty"===e,isNew:!1})}))}))}fill(){return i(this,void 0,void 0,(function*(){this.categories=[],yield this.getItem(),this.element.innerHTML="",this.categories.forEach((e=>this.element.append(new d.AdminCategoryCard(e).element))),this.addCardNewItem()}))}addCardNewItem(){this.cardNewItem.innerHTML="<h4>Add new category</h4>";const e=new a.BaseComponent("div",["plus"]).element;this.cardNewItem.append(e),e.onclick=()=>this.addNewCard(),this.element.append(this.cardNewItem)}addNewCard(){return i(this,void 0,void 0,(function*(){yield r.createCategory("empty");const e={index:(yield r.getCategories()).length-1,edit:!0,isNew:!0},t=new d.AdminCategoryCard(e);this.cardNewItem.before(t.element)}))}}t.AdminFieldCategories=l},598:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AdminPage=void 0;const s=n(583),r=n(7);n(225);const o=n(521),a=n(669),d=n(787),c=n(370);class l extends s.BaseComponent{constructor(e){super("div",["admin-page"]),this.rootElement=e,this.header=new r.AdminPageHeader,this.wordsField=new d.WordsField("").element,this.categoryField=(new o.AdminFieldCategories).element}render(){return console.log("render"),new Promise((e=>{this.rootElement.innerText="",this.rootElement.append(this.element),this.element.append(this.header.element),this.header.logOut.addEventListener("click",(()=>{window.history.pushState(null,"null","/"),e(""),window.onpopstate=null})),window.onpopstate=e=>i(this,void 0,void 0,(function*(){e.preventDefault(),console.log("window location change");const t=c.getLocation();console.log(t);const n=yield a.getCategories();"/my-category"===t[0]&&(t[1]?n.find((e=>t[1]===e))&&this.showWordCadsField(t[1]):this.showCategoryCadsField())})),this.showCategoryCadsField()}))}showWordCadsField(e){this.element.removeChild(this.categoryField),this.wordsField=new d.WordsField(e).element,this.element.append(this.wordsField)}showCategoryCadsField(){window.history.pushState(null,"null","/categories"),console.log("qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),document.getElementsByClassName("admin-field")[0]&&this.element.removeChild(this.wordsField),this.element.append(this.categoryField)}}t.AdminPage=l},7:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdminPageHeader=void 0;const i=n(583);n(225);class s extends i.BaseComponent{constructor(){super("header",["admin-page__header"]),this.element.innerHTML='<a class="nav_element">Categories</a><a class="nav_element">Words</a>',this.logOut=new i.BaseComponent("a",["nav_element","log-out"]).element,this.logOut.innerText="Log out",this.element.append(this.logOut)}}t.AdminPageHeader=s},594:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileLoadComponent=void 0;const i=n(583);class s extends i.BaseComponent{constructor(e){super("div",["file-load"]),this.name=e,this.element.innerText=e,this.input=document.createElement("input"),this.input.type="file",this.input.onchange=this.readFile,this.filename="",this.element.append(this.input)}readFile(e){const t=e.target.files[0];this.file=t,this.filename=t.name,this.element.innerText=`${this.name} : ${this.filename}`}}t.FileLoadComponent=s},370:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=t.getIndexByName=void 0;const s=n(669);t.getIndexByName=e=>i(void 0,void 0,void 0,(function*(){return(yield s.getCategories()).findIndex((t=>t===e))})),t.getLocation=()=>{let e=window.location.pathname;return e=e.replace(/_/g," ").slice(1),e.split("/")}},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},282:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CardComponent=void 0;const r=s(n(54)),o=n(583);n(489);const a=n(428),d=n(806);class c extends o.BaseComponent{constructor(e){super("a",["card-container"]),this.playSound=e=>i(this,void 0,void 0,(function*(){const t=new Audio;t.src=e,t.currentTime=0,yield t.play()})),this.img=`./${e.image}`,this.word=e.word,this.translation=e.translation,this.audioSrc=`./${e.audioSrc}`,this.signature=new a.Signature(this.word,this.translation),this.isFlipped=!0,this.card=new o.BaseComponent("div",["card"]),this.card.element.style.backgroundImage=`url(${this.img})`,this.element.append(this.card.element),(r.default.getState().mode||this.translation===d.IT_IS_CATEGORY)&&this.card.element.append(this.signature.element),r.default.subscribe((()=>{if("Login"!==r.default.getState().link)if(r.default.getState().mode)this.showSignature();else{if(this.translation===d.IT_IS_CATEGORY)return;this.hideSignature()}}))}flipToBack(){return this.isFlipped=!1,this.flip(!0)}flipToFront(){return this.isFlipped=!0,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>setTimeout((()=>t()),500)),{once:!0})}))}hideSignature(){this.card.element.innerHTML=""}showSignature(){this.card.element.append(this.signature.element)}clickAudioPlayInTrainMode(){return i(this,void 0,void 0,(function*(){r.default.getState().mode&&this.isFlipped&&(yield this.playSound(this.audioSrc))}))}}t.CardComponent=c},582:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(916);const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[],this.rating=new i.BaseComponent("div",["rating"]).element,this.element.append(this.rating)}addCards(e){return new Promise((t=>{this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),t()}))}addStar(e){e?this.rating.append(new i.BaseComponent("div",["star_filled"]).element):this.rating.append(new i.BaseComponent("div",["star"]).element)}clearRating(){this.rating.innerHTML=""}}t.CardsField=s},199:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const s=n(583),r=n(983),o=n(924);n(788);const a=i(n(367));class d extends s.BaseComponent{constructor(){super("div",["header"]),this.menu=new r.Menu(a.default.categoryCard),this.element.append(this.menu.hamburger),this.element.append(this.menu.element),this.element.append((new o.Switcher).element)}}t.Header=d},504:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardFooterBtn=void 0;const i=n(583);n(839);class s extends i.BaseComponent{constructor(e){super("div",["footer-btn"]),this.element.classList.add(e.styles),this.firstBtn=new i.BaseComponent("button",["card-footer-btn","first-btn"]).element,this.firstBtn.innerText=`${e.btnNames[0]}`,this.firstBtn.addEventListener("click",e.btnFuncs[0]),this.element.append(this.firstBtn),e.btnFuncs[1]&&(this.secondBtn=new i.BaseComponent("button",["card-footer-btn","second-btn"]).element,this.secondBtn.innerText=`${e.btnNames[1]}`,this.secondBtn.addEventListener("click",e.btnFuncs[1]),this.element.append(this.secondBtn))}}t.CardFooterBtn=s},782:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;const i=n(583),s=n(12),r=n(504);class o extends i.BaseComponent{constructor(e){super("div",["login-form"]),this.loginClick=()=>{this.rootElement.removeChild(this.fade),console.log("нажата кнопка login"),this.element.dispatchEvent(new Event("ok"))},this.cancelClick=()=>{this.rootElement.removeChild(this.fade),console.log("нажата кнопка cancel"),this.element.dispatchEvent(new Event("cancel"))},console.log("login"),this.fade=new i.BaseComponent("div",["login-form__fade"]).element,this.rootElement=e,this.fade.append(this.element),this.element.innerText="Login",this.username=new s.BaseInputComponent("User name",["login-input"]),this.password=new s.BaseInputComponent("Password",["login-input"],"password"),this.element.append(this.username.element),this.element.append(this.password.element);const t={styles:"login__footer",btnNames:["Cancel","Login"],btnFuncs:[this.cancelClick,this.loginClick]};this.footer=new r.CardFooterBtn(t),this.element.append(this.footer.element)}authorization(){return new Promise(((e,t)=>{this.rootElement.append(this.fade),this.element.addEventListener("cancel",t),this.element.addEventListener("ok",e)}))}}t.Login=o},48:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementMenu=void 0;const i=n(583);n(430);class s extends i.BaseComponent{constructor(e){super("a",["element-menu"]),this.element.innerText=e,this.withIcon=!0,this.icon=new Image,this.icon.src=`svg/${e}.svg`,this.icon.classList.add("icon"),this.icon.onload=()=>this.element.prepend(this.icon),this.icon.onerror=()=>{this.element.style.paddingLeft="60px"}}}t.ElementMenu=s},983:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;const s=n(170),r=n(583),o=n(48);n(430);const a=i(n(54));let d;class c extends r.BaseComponent{constructor(e){super("div",["menu","hide-menu"]),this.isShowMenu=!1,this.addMenuHandler=()=>{window.addEventListener("click",d)},this.removeMenuHandler=()=>{window.removeEventListener("click",d)},this.categories=e,e.includes("Home")||(this.categories.unshift("Home"),this.categories.push("statistic")),this.curentElementMenu=new o.ElementMenu(e[0]).element,this.elements=[],e.forEach(((e,t)=>{const n=new o.ElementMenu(e);this.element.append(n.element),this.elements.push(n),t||(n.element.classList.add("active"),this.curentElementMenu=n.element)})),this.addLogin(),this.hamburger=new r.BaseComponent("div",["hamburger"]).element,this.hamburger.innerHTML='<div><span class="hamburger__line"></span></div>',d=this.menuHandler.bind(this),this.hamburger.addEventListener("click",this.hamburgerAction.bind(this)),a.default.subscribe((()=>{if("Login"===a.default.getState().link)return;const e=this.elements.find((e=>e.element.innerText===a.default.getState().link))||this.elements[0];this.changeCurrentElementMenu(e.element)}))}hamburgerAction(e){e.stopPropagation(),this.isShowMenu?this.hideMenu():this.showMenu()}showMenu(){this.isShowMenu=!0,this.element.classList.remove("hide-menu"),this.hamburger.classList.add("hamburger_active"),this.addMenuHandler()}hideMenu(){this.element.classList.add("hide-menu"),this.hamburger.classList.remove("hamburger_active"),this.isShowMenu=!1}menuHandler(e){this.isShowMenu&&e.target!==this.element&&(e.target&&e.target instanceof HTMLElement&&e.target.classList.contains("element-menu")&&(this.changeCurrentElementMenu(e.target),s.dispatchMouseClickOnMenu(e.target.innerText)),this.isShowMenu=!1,this.hideMenu(),this.removeMenuHandler())}changeCurrentElementMenu(e){this.curentElementMenu.classList.remove("active"),e.classList.add("active"),this.curentElementMenu=e}addLogin(){const e=new o.ElementMenu("Login").element;e.classList.add("login"),this.element.append(e)}}t.Menu=c},428:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Signature=void 0;const i=n(583),s=n(806);class r extends i.BaseComponent{constructor(e,t){super("div",["signature"]),this.word=e,null!=t&&(this.translate=t),this.element.innerText=e,this.flipBtn=new i.BaseComponent("a",["flip-btn"]),this.flipBtn.element.innerHTML="&#x21bb",this.translate!==s.IT_IS_CATEGORY&&this.flipBtnAdd()}flipBtnAdd(){setTimeout((()=>{this.element.append(this.flipBtn.element),this.showWord()}),100)}flipBtnRemove(){this.flipBtn.element.remove(),this.showTranslate()}showWord(){this.element.innerText=this.word,this.element.append(this.flipBtn.element),this.element.classList.remove("reverse")}showTranslate(){this.element.innerText=this.translate||"",this.element.classList.add("reverse")}}t.Signature=r},730:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticBtn=void 0;const i=n(583),s=n(170);n(756);class r extends i.BaseComponent{constructor(){super("div",["statistic-btn-block"]),this.RepeatDifficultWordsBtn=new i.BaseComponent("button",["statistic-btn"]).element,this.reset=new i.BaseComponent("div",["statistic-btn"]).element,this.RepeatDifficultWordsBtn.innerText="Repeat difficult item",this.reset.innerText="Reset",this.RepeatDifficultWordsBtn.addEventListener("click",(()=>{s.dispatchMouseClickOnMenu("listHigthPercentError")}),{once:!0}),this.element.append(this.RepeatDifficultWordsBtn),this.element.append(this.reset)}}t.StatisticBtn=r},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticComponent=void 0;const i=n(583),s=n(626),r=n(42),o=n(869);n(756);const a=n(730);class d extends i.BaseComponent{constructor(){super("div",["statistic"]),this.statisticBtn=new a.StatisticBtn,this.element.append(this.statisticBtn.element),this.statisticBtn.reset.addEventListener("click",(()=>{r.statistic.reset(),this.newStatistic()})),this.header=(new s.StatisticHeaderComponent).element,this.header.addEventListener("click",(e=>this.headerHandler(e))),this.element.append(this.header),this.statisticField=new i.BaseComponent("div",["statistic-field"]).element,this.newStatistic(),this.element.append(this.statisticField)}headerHandler(e){e.target&&e.target instanceof HTMLElement&&e.target.classList.contains("statistic__header-name")&&e.target.dataset.sort&&e.target.dataset.arrow&&(e.target.dataset.isNuber?r.statistic.sort(e.target.dataset.sort,!0,+e.target.dataset.arrow):r.statistic.sort(e.target.dataset.sort,!1,+e.target.dataset.arrow),e.target.dataset.arrow=""+-1*+e.target.dataset.arrow),this.newStatistic()}newStatistic(){this.statisticField.innerHTML="",r.statistic.words.forEach((e=>{e.ratio=Math.floor(e.incorrectClickCounter/(e.rightClickCounter+e.incorrectClickCounter)*100)||0,this.statisticField.append(new o.StatisticRowComponent(e).element)}))}}t.StatisticComponent=d},626:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticHeaderComponent=void 0;const i=n(583);n(756);class s extends i.BaseComponent{constructor(){super("div",["statistic__header"]),this.element.innerHTML='\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-sort="item">Word</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-sort="translate">Translation</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-sort="category">Category</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-is-nuber="true" data-sort="trainClickCounterInTrainmode">Clicks</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-is-nuber="true" data-sort="rightClickCounter">Correct</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-is-nuber="true" data-sort="incorrectClickCounter">Wrong</a>\n    <a class="statistic__header-name statistic__elem" \n    data-arrow="1"  data-is-nuber="true" data-sort="ratio">% Error</a>\n    '}}t.StatisticHeaderComponent=s},869:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticRowComponent=void 0;const i=n(583);n(756);class s extends i.BaseComponent{constructor(e){super("div",["statistic-row"]),this.element.innerHTML=`\n    <div class="statistic__elem word">${e.word}</div>\n    <div class="statistic__elem translate" >${e.translate}</div>\n    <div class="statistic__elem category" >${e.category}</div>\n    <div class="statistic__elem train-click" data-is-nuber="true"  >${e.trainClickCounterInTrainmode}</div>\n    <div class="statistic__elem right-Click" data-is-nuber="true" >${e.rightClickCounter}</div>\n    <div class="statistic__elem incorrect-click" data-is-nuber="true"  >${e.incorrectClickCounter}</div>\n    <div class="statistic__elem  ratio" data-is-nuber="true" >${e.ratio}</div>\n    `}}t.StatisticRowComponent=s},924:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Switcher=void 0;const i=n(170),s=n(583);n(302);class r extends s.BaseComponent{constructor(){super("label",["switch"]),this.input=document.createElement("input"),this.input.setAttribute("type","checkbox"),this.input.setAttribute("id","togBtn"),this.element.append(this.input),this.input.insertAdjacentHTML("afterend",'\n <div class="slider round">\n<span class="on" id="on">train</span>\n  <span class="off">game</span>\n </div>'),this.input.checked=!0,this.input.addEventListener("change",(()=>{i.dispatchChangeSwitch(this.input.checked)}))}}t.Switcher=r},806:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IT_IS_CATEGORY=void 0,t.IT_IS_CATEGORY="IT_IS_CATEGORY"},607:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(752);n(699);const o=s(n(54)),a=n(782),d=n(598),c=n(669),l=n(370);function h(){return i(this,void 0,void 0,(function*(){yield c.deleteEmptyCategoryRequest();const e=document.querySelector("body");if(!e)throw Error("App root element not found");if(e.nextElementSibling&&(e.nextElementSibling.innerHTML=""),"categories"===l.getLocation()[0])return void u(e);new r.App(e).element.insertAdjacentHTML("afterend",'<div class="footer" ><a href="https://rs.school/js/"> <img src="svg/rs_school_js.svg" alt="rs.school"> </a></div>');const t=o.default.subscribe((()=>{var n;"Login"===o.default.getState().link&&(t(),n=e,new a.Login(n).authorization().then((()=>u(n)),(()=>{})))}))}))}function u(e){return i(this,void 0,void 0,(function*(){yield new d.AdminPage(e).render(),e.innerHTML="",h()}))}window.onload=()=>h()},256:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=n(282),r=n(582),o=n(806),a=n(170),d=n(42);function c(e){e.signature.flipBtn.element.onclick=function(){e.element.onclick=null,e.signature.flipBtnRemove();const t=e.flipToBack();e.element.addEventListener("mouseleave",(()=>{t.then((()=>i(this,void 0,void 0,(function*(){e.signature.flipBtnAdd(),yield e.flipToFront(),c(e)}))))}),{once:!0})}}t.Game=class{constructor(){this.addEwentsInTrainMode=e=>i(this,void 0,void 0,(function*(){c(e),(()=>new Promise((t=>{e.element.addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield e.clickAudioPlayInTrainMode.call(e),d.statistic.trainClick(e.word),t("")}))),{once:!0})})))().then((()=>setTimeout((()=>{this.addEwentsInTrainMode(e)}),500)))})),this.addEwentsHomePage=e=>{e.element.addEventListener("click",(()=>{"./img/undefined.jpg"!==e.img&&a.dispatchMouseClickOnMenu(e.word)}))},this.cardsField=new r.CardsField}newGame(e){return i(this,void 0,void 0,(function*(){const t=e.map((e=>new s.CardComponent(e)));this.cards=t,t.forEach((e=>{e.translation===o.IT_IS_CATEGORY?this.addEwentsHomePage(e):this.addEwentsInTrainMode(e)})),yield this.cardsField.addCards(t)}))}}},399:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogicGame=void 0;const r=s(n(54)),o=n(42);t.LogicGame=class{constructor(e,t){this.cardsField=t,this.cards=e,this.currentCards=this.cards.map((e=>e)).sort((()=>Math.random()-.5)),this.currentCardIndex=0,this.currentCard=this.currentCards[this.currentCardIndex],this.withError=!1,r.default.subscribe((()=>{"Login"!==r.default.getState().link&&this.breack()}))}check(){this.handler().then((()=>{this.rightChoice()}),(()=>{this.incorrectChoice(),this.check()}))}startGame(){return new Promise((e=>{this.currentCards=this.cards.map((e=>e)).sort((()=>Math.random()-.5)),this.currentCardIndex=0,this.currentCard=this.currentCards[this.currentCardIndex],setTimeout((()=>this.currentCard.playSound(this.currentCard.audioSrc)),1e3),this.currentCardIndex--,this.next(),this.cardsField.element.addEventListener("end",(()=>e()))}))}handler(){return new Promise(((e,t)=>{this.cardsField.element.onclick=n=>{n.target instanceof HTMLElement&&n.target.classList.contains("card")&&(n.target.classList.contains("opacity")||(n.target===this.currentCard.element.firstChild&&e(),t()))}}))}rightChoice(){this.cardsField.addStar(!0),this.currentCard.playSound("./audio/correct.mp3"),this.currentCard.card.element.classList.add("opacity"),o.statistic.rightClick(this.currentCard.word),this.next()}incorrectChoice(){this.withError=!0,this.cardsField.addStar(!1),this.currentCard.playSound("./audio/error.mp3"),o.statistic.incorrectClick(this.currentCard.word)}next(){return i(this,void 0,void 0,(function*(){if(this.currentCardIndex++,this.currentCardIndex<this.currentCards.length){this.currentCard=this.currentCards[this.currentCardIndex];const e=()=>new Promise((e=>{setTimeout((()=>i(this,void 0,void 0,(function*(){yield this.currentCard.playSound(this.currentCard.audioSrc),setTimeout(e,500)}))),1e3)}));yield e(),this.check()}else this.result().then((()=>{this.cardsField.element.dispatchEvent(new Event("end"))}))}))}breack(){this.cardsField.element.onclick=null,this.currentCards.forEach((e=>e.card.element.classList.remove("opacity"))),this.cardsField.clearRating()}result(){return new Promise((e=>{this.cardsField.element.nextElementSibling&&this.cardsField.element.nextElementSibling.parentNode&&this.cardsField.element.nextElementSibling.parentNode.removeChild(this.cardsField.element.nextElementSibling),this.withError?setTimeout((()=>{this.currentCard.playSound("./audio/failure.mp3"),this.cardsField.element.innerHTML='<img src="./img/failure.jpg"alt="failure" width="50%" height="auto">'}),1e3):setTimeout((()=>{this.currentCard.playSound("./audio/success.mp3"),this.cardsField.element.innerHTML='<img src="./img/success.jpg"alt="success" width="50%" height="auto">'}),1e3),setTimeout((()=>{this.cardsField.element.innerHTML="",e()}),3e3)}))}}},669:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{d(i.next(e))}catch(e){r(e)}}function a(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWord=t.renameCategory=t.createCategory=t.deleteEmptyCategoryRequest=t.deleteCategory=t.getWordsOfCategoryByIndex=t.getWords=t.getCategories=void 0,t.getCategories=function(){return n(this,void 0,void 0,(function*(){let e;const t=yield fetch("http://localhost:3000/api/categories/");return t.ok?e=yield t.json():console.log(`Ошибка HTTP: ${t.status}`),e}))},t.getWords=function(){return n(this,void 0,void 0,(function*(){let e;const t=yield fetch("http://localhost:3000/api/categories/all");return t.ok?e=yield t.json():console.log(`Ошибка HTTP: ${t.status}`),e}))},t.getWordsOfCategoryByIndex=function(e){return n(this,void 0,void 0,(function*(){let t;const n=yield fetch(`http://localhost:3000/api/categories/${e}`);return n.ok?t=yield n.json():console.log(`Ошибка HTTP: ${n.status}`),t}))},t.deleteCategory=function(e){return n(this,void 0,void 0,(function*(){return(yield fetch(`http://localhost:3000/api/categories/${e}`,{method:"DELETE"})).status.toString()}))},t.deleteEmptyCategoryRequest=function(){return n(this,void 0,void 0,(function*(){return(yield fetch("http://localhost:3000/api/categories/",{method:"DELETE"})).status.toString()}))},t.createCategory=function(e){return n(this,void 0,void 0,(function*(){return(yield fetch("http://localhost:3000/api/categories/",{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:`${e}`})).json()}))},t.renameCategory=function(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{fetch(`http://localhost:3000/api/categories/${t}`,{method:"POST",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:`${e}`}).then((e=>{if(!e.ok)throw e;return e.json()})).then((e=>n(e))).catch((e=>{e.text().then((e=>i(e)))}))}))}))},t.deleteWord=function(e,t){return n(this,void 0,void 0,(function*(){return new Promise(((n,i)=>{fetch(`http://localhost:3000/api/categories/${e}/${t}`,{method:"DELETE"}).then((e=>{if(!e.ok)throw e;return e.json()})).then((e=>n(e))).catch((e=>{e.text().then((e=>i(e)))}))}))}))}},42:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.statistic=t.Statistic=void 0;const s=i(n(367)),r=i(n(54)),o=n(541);class a{constructor(){if(this.words=[],s.default.wordCarts.forEach(((e,t)=>e.forEach((e=>this.words.push(new o.Word(e,s.default.categoryCard[t+1])))))),localStorage.getItem("statistic")){const e=localStorage.getItem("statistic");e&&(this.words=JSON.parse(e))}r.default.subscribe((()=>localStorage.setItem("statistic",JSON.stringify(this.words))))}trainClick(e){this.words[this.find(e)]||this.reset(),this.words[this.find(e)].trainClickCounterInTrainmode++}incorrectClick(e){this.words[this.find(e)]||this.reset(),this.words[this.find(e)].incorrectClickCounter++}rightClick(e){this.words[this.find(e)]||this.reset(),this.words[this.find(e)].rightClickCounter++}find(e){return this.words.findIndex((t=>t.word===e))}reset(){localStorage.setItem("statistic",""),this.words=[],s.default.wordCarts.forEach(((e,t)=>e.forEach((e=>this.words.push(new o.Word(e,s.default.categoryCard[t+1])))))),localStorage.setItem("statistic",JSON.stringify(this.words))}sort(e,t,n){t?this.words.sort(((t,i)=>(t[e]-i[e])*n)):this.words.sort(((t,i)=>{const s=t[e].toLowerCase(),r=i[e].toLowerCase();return s<r?-1*n:s>r?1*n:0}))}makelistHigthPercentError(){this.sort("ratio",!0,-1);const e=[];this.words.forEach(((t,n)=>{n<7&&t.ratio>0&&e.push(t.word)}));const t=[];return s.default.wordCarts.forEach((n=>n.forEach((n=>{e.find((e=>e===n.word))&&t.push(n)})))),t}}t.Statistic=a,t.statistic=new a},541:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Word=void 0,t.Word=class{constructor(e,t){this.word=e.word,this.translate=e.translation,this.category=t,this.trainClickCounterInTrainmode=0,this.rightClickCounter=0,this.incorrectClickCounter=0,this.ratio=0}}},367:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={categoryCard:[""],wordCarts:[[{word:"",translation:"",image:"",audioSrc:""}]]}},170:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchChangeInAdminPage=t.dispatchMouseClickOnMenu=t.dispatchChangeSwitch=void 0;const s=n(912),r=i(n(54));t.dispatchChangeSwitch=e=>{var t;r.default.dispatch((t=e,{type:s.IS_TRAIN_MODE,mode:t}))},t.dispatchMouseClickOnMenu=e=>{var t;r.default.dispatch((t=e,{type:s.MOUSE_CLICK_ON_MENU,link:t}))},t.dispatchChangeInAdminPage=e=>{var t;r.default.dispatch((t=e,{type:s.CHANGE_IN_ADMIN_PAGE,actionOfChange:t}))}},912:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_IN_ADMIN_PAGE=t.MOUSE_CLICK_ON_MENU=t.IS_TRAIN_MODE=void 0,t.IS_TRAIN_MODE="IS_TRAIN_MODE",t.MOUSE_CLICK_ON_MENU="MOUSE_CLICK_ON_MENU",t.CHANGE_IN_ADMIN_PAGE="CHANGE_IN_ADMIN_PAGE"},26:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={mode:!0,link:"",actionOfChange:"ww"}},601:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;const i=n(912),s=(e=!0,t)=>{switch(t.type){case i.IS_TRAIN_MODE:return t.mode;default:return e}},r=(e="",t)=>{switch(t.type){case i.MOUSE_CLICK_ON_MENU:return t.link;default:return e}},o=(e="",t)=>{switch(t.type){case i.CHANGE_IN_ADMIN_PAGE:return t.actionOfChange;default:return e}};t.reducer=function(e,t){return{mode:s(e.mode,t),link:r(e.link,t),actionOfChange:o(e.actionOfChange,t)}}},54:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(676),r=n(601),o=i(n(26)),a=s.createStore(r.reducer,o.default);t.default=a},746:(e,t,n)=>{e.exports=n.p+"assets/2c137029df9fd72fb026.svg"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(607)})();
